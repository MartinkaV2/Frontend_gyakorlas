{"version":3,"file":"ng-primitives-interactions.mjs","sources":["../../../../packages/ng-primitives/interactions/src/focus-visible/focus-visible.ts","../../../../packages/ng-primitives/interactions/src/focus/focus.ts","../../../../packages/ng-primitives/interactions/src/hover/hover.ts","../../../../packages/ng-primitives/interactions/src/move/move.ts","../../../../packages/ng-primitives/interactions/src/press/press.ts","../../../../packages/ng-primitives/interactions/src/setup-interactions/interaction.ts","../../../../packages/ng-primitives/interactions/src/setup-interactions/setup-interactions.ts","../../../../packages/ng-primitives/interactions/src/ng-primitives-interactions.ts"],"sourcesContent":["import { BooleanInput } from '@angular/cdk/coercion';\nimport { Directive, booleanAttribute, input, output } from '@angular/core';\nimport { setupFocusVisible } from 'ng-primitives/internal';\n\n/**\n * Apply the `ngpFocusVisible` directive to an element that should be visually focused. This is similar to `ngpFocus`\n * but it will only apply the focus visible styles when the element is focused via keyboard navigation.\n */\n@Directive({\n  selector: '[ngpFocusVisible]',\n  exportAs: 'ngpFocusVisible',\n})\nexport class NgpFocusVisible {\n  /**\n   * Whether focus events are listened to.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpFocusVisibleDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit when the element is visually focused.\n   */\n  readonly focusChange = output<boolean>({\n    alias: 'ngpFocusVisible',\n  });\n\n  constructor() {\n    // setup the focus visible listener\n    setupFocusVisible({\n      disabled: this.disabled,\n      focusChange: value => this.focusChange.emit(value),\n    });\n  }\n}\n","import { BooleanInput } from '@angular/cdk/coercion';\nimport { Directive, booleanAttribute, input, output } from '@angular/core';\nimport { setupFocus } from 'ng-primitives/internal';\n\n/**\n * This was inspired by the React Aria useFocus hook.\n * https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/interactions/src/useFocus.ts#L20\n */\n@Directive({\n  selector: '[ngpFocus]',\n  exportAs: 'ngpFocus',\n})\nexport class NgpFocus {\n  /**\n   * Whether listening for focus events is disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpFocusDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit when the focus state changes.\n   */\n  readonly focus = output<boolean>({ alias: 'ngpFocus' });\n\n  constructor() {\n    // setup the focus listener\n    setupFocus({\n      disabled: this.disabled,\n      focus: () => this.focus.emit(true),\n      blur: () => this.focus.emit(false),\n    });\n  }\n}\n","import type { BooleanInput } from '@angular/cdk/coercion';\nimport { Directive, booleanAttribute, input, output } from '@angular/core';\nimport { setupHover } from 'ng-primitives/internal';\n\n// This is an Angular port of the useHover hook from react-aria: https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/interactions/src/useHover.ts\n\n/**\n * Apply the `ngpHover` directive to an element that you want to listen for hover events. T\n * his is particulaly useful for supporting hover events on touch devices, where hover events are not handled consistently.\n * On iOS relying on the `:hover` pseudo-class can result in the hover state being stuck until the user taps elsewhere on the screen.\n */\n@Directive({\n  selector: '[ngpHover]',\n  exportAs: 'ngpHover',\n})\nexport class NgpHover {\n  /**\n   * Whether hoving should be disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpHoverDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit an event when hovering starts.\n   */\n  readonly hoverStart = output<void>({ alias: 'ngpHoverStart' });\n\n  /**\n   * Emit an event when hovering ends.\n   */\n  readonly hoverEnd = output<void>({ alias: 'ngpHoverEnd' });\n\n  /**\n   * Emit an event when the hover state changes.\n   */\n  readonly hoverChange = output<boolean>({ alias: 'ngpHover' });\n\n  /**\n   * Setup the hover state.\n   */\n  constructor() {\n    // setup the hover listener\n    setupHover({\n      hoverStart: () => {\n        this.hoverStart.emit();\n        this.hoverChange.emit(true);\n      },\n      hoverEnd: () => {\n        this.hoverEnd.emit();\n        this.hoverChange.emit(false);\n      },\n      disabled: this.disabled,\n    });\n  }\n}\n","import { BooleanInput } from '@angular/cdk/coercion';\nimport { booleanAttribute, Directive, HostListener, input, output, signal } from '@angular/core';\nimport { injectDisposables } from 'ng-primitives/utils';\n\n// Inspired by react-aria useMove hook: https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/interactions/src/useMove.ts\n\n/**\n * The `NgpMove` directive is used to enable the pointer and keyboard move interactions on an element.\n */\n@Directive({\n  selector: '[ngpMove]',\n  exportAs: 'ngpMove',\n  host: {\n    '[attr.data-move]': 'isMoving() ? \"\" : null',\n  },\n})\nexport class NgpMove {\n  /**\n   * Access the disposable helper.\n   */\n  private readonly disposables = injectDisposables();\n\n  /**\n   * Whether movement is disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpMoveDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit when the move event begins.\n   */\n  readonly start = output<NgpMoveStartEvent>({\n    alias: 'ngpMoveStart',\n  });\n\n  /**\n   * Emit when the element is moved.\n   */\n  readonly move = output<NgpMoveEvent>({\n    alias: 'ngpMove',\n  });\n\n  /**\n   * Emit when the move event ends.\n   */\n  readonly end = output<NgpMoveEndEvent>({\n    alias: 'ngpMoveEnd',\n  });\n\n  /**\n   * Whether the element is currently being moved.\n   */\n  private isMoving = signal<boolean>(false);\n\n  /**\n   * Store the last x position of the element.\n   */\n  private x: number | null = null;\n\n  /**\n   * Store the last y position of the element.\n   */\n  private y: number | null = null;\n\n  /**\n   * Store the id of the last pointer.\n   */\n  private pointerId: number | null = null;\n\n  /**\n   * Store the disposable event listeners.\n   */\n  private disposableListeners: (() => void)[] = [];\n\n  /**\n   * Handle a move start.\n   */\n  private onMoveStart(event: PointerEvent | KeyboardEvent, pointerType: PointerType): void {\n    this.start.emit({\n      pointerType,\n      shiftKey: event.shiftKey,\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      altKey: event.altKey,\n    });\n    this.isMoving.set(true);\n  }\n\n  /**\n   * Handle a move event.\n   */\n  private onMove(\n    event: PointerEvent | KeyboardEvent,\n    pointerType: PointerType,\n    deltaX: number,\n    deltaY: number,\n  ): void {\n    if (deltaX === 0 && deltaY === 0) {\n      return;\n    }\n\n    this.move.emit({\n      deltaX,\n      deltaY,\n      pointerType,\n      shiftKey: event.shiftKey,\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      altKey: event.altKey,\n    });\n  }\n\n  /**\n   * Handle a move end.\n   */\n  private onMoveEnd(event: PointerEvent | KeyboardEvent, pointerType: PointerType): void {\n    this.end.emit({\n      pointerType,\n      shiftKey: event.shiftKey,\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      altKey: event.altKey,\n    });\n    this.isMoving.set(false);\n  }\n\n  /**\n   * Handle the pointer down event.\n   */\n  @HostListener('pointerdown', ['$event'])\n  protected onPointerDown(event: PointerEvent): void {\n    // ignore right-click or additional pointers\n    if (event.button !== 0 || this.pointerId !== null || this.disabled()) {\n      return;\n    }\n\n    // prevent the default behavior\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.onMoveStart(event, event.pointerType as PointerType);\n\n    // store the pointer id and initial position\n    this.pointerId = event.pointerId;\n    this.x = event.pageX;\n    this.y = event.pageY;\n\n    // add global event listeners\n    const pointerMove = this.disposables.addEventListener(\n      window,\n      'pointermove',\n      this.onPointerMove.bind(this) as EventListener,\n      false,\n    );\n\n    const pointerUp = this.disposables.addEventListener(\n      window,\n      'pointerup',\n      this.onPointerUp.bind(this) as EventListener,\n      false,\n    );\n\n    const pointerCancel = this.disposables.addEventListener(\n      window,\n      'pointercancel',\n      this.onPointerUp.bind(this) as EventListener,\n      false,\n    );\n\n    // store the disposable event listeners\n    this.disposableListeners = [pointerMove, pointerUp, pointerCancel];\n  }\n\n  /**\n   * Handle the pointer up event.\n   */\n  protected onPointerUp(event: PointerEvent): void {\n    if (this.pointerId !== event.pointerId) {\n      return;\n    }\n\n    const pointerType = (event.pointerType ?? 'mouse') as PointerType;\n    this.onMoveEnd(event, pointerType);\n    this.pointerId = null;\n    this.disposableListeners.forEach(dispose => dispose());\n  }\n\n  /**\n   * Handle the pointer move event.\n   */\n  protected onPointerMove(event: PointerEvent): void {\n    if (this.pointerId !== event.pointerId) {\n      return;\n    }\n\n    // Problems with PointerEvent#movementX/movementY:\n    // 1. it is always 0 on macOS Safari.\n    // 2. On Chrome Android, it's scaled by devicePixelRatio, but not on Chrome macOS\n    this.onMove(\n      event,\n      event.pointerType as PointerType,\n      event.pageX - (this.x ?? 0),\n      event.pageY - (this.y ?? 0),\n    );\n    this.x = event.pageX;\n    this.y = event.pageY;\n  }\n\n  private triggerKeyboardMove(event: KeyboardEvent, deltaX: number, deltaY: number): void {\n    if (this.disabled()) {\n      return;\n    }\n\n    this.onMoveStart(event, 'keyboard');\n    this.onMove(event, 'keyboard', deltaX, deltaY);\n    this.onMoveEnd(event, 'keyboard');\n  }\n\n  @HostListener('keydown.ArrowUp', ['$event'])\n  protected onArrowUp(event: KeyboardEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerKeyboardMove(event, 0, -1);\n  }\n\n  @HostListener('keydown.ArrowDown', ['$event'])\n  protected onArrowDown(event: KeyboardEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerKeyboardMove(event, 0, 1);\n  }\n\n  @HostListener('keydown.ArrowLeft', ['$event'])\n  protected onArrowLeft(event: KeyboardEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerKeyboardMove(event, -1, 0);\n  }\n\n  @HostListener('keydown.ArrowRight', ['$event'])\n  protected onArrowRight(event: KeyboardEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerKeyboardMove(event, 1, 0);\n  }\n}\n\ninterface NgpMoveBaseEvent {\n  /**\n   * Whether the event was triggered by a mouse or keyboard event.\n   */\n  pointerType: PointerType;\n  /**\n   * Whether the shift key was pressed during the event.\n   */\n  shiftKey: boolean;\n  /**\n   * Whether the control key was pressed during the event.\n   */\n  ctrlKey: boolean;\n  /**\n   * Whether the meta key was pressed during the event.\n   */\n  metaKey: boolean;\n  /**\n   * Whether the alt key was pressed during the event.\n   */\n  altKey: boolean;\n}\n\nexport type NgpMoveStartEvent = NgpMoveBaseEvent;\nexport type NgpMoveEndEvent = NgpMoveBaseEvent;\n\nexport interface NgpMoveEvent extends NgpMoveBaseEvent {\n  /**\n   * The amount of pixels moved in the x-axis.\n   */\n  deltaX: number;\n  /**\n   * The amount of pixels moved in the y-axis.\n   */\n  deltaY: number;\n}\n\nexport type PointerType = 'mouse' | 'pen' | 'touch' | 'keyboard' | 'virtual';\n","import { BooleanInput } from '@angular/cdk/coercion';\nimport { Directive, booleanAttribute, input, output } from '@angular/core';\nimport { setupPress } from 'ng-primitives/internal';\n\n// This was inpsired by Headless UI's active-press hook: https://github.com/tailwindlabs/headlessui/blob/main/packages/%40headlessui-react/src/hooks/use-active-press.tsx\n\n/**\n * The `ngpPress` directive listens for press events on an element. This is particularly useful for supporting press events on touch devices, where press events are not handled consistently.\n */\n@Directive({\n  selector: '[ngpPress]',\n  exportAs: 'ngpPress',\n})\nexport class NgpPress {\n  /**\n   * Whether listening for press events is disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpPressDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit when the press begins.\n   */\n  readonly pressStart = output<void>({\n    alias: 'ngpPressStart',\n  });\n\n  /**\n   * Emit when the press ends.\n   */\n  readonly pressEnd = output<void>({\n    alias: 'ngpPressEnd',\n  });\n\n  /**\n   * Emit when the press changes.\n   */\n  readonly pressChange = output<boolean>({\n    alias: 'ngpPress',\n  });\n\n  constructor() {\n    // setup the press listener\n    setupPress({\n      pressStart: () => {\n        this.pressStart.emit();\n        this.pressChange.emit(true);\n      },\n      pressEnd: () => {\n        this.pressEnd.emit();\n        this.pressChange.emit(false);\n      },\n      disabled: this.disabled,\n    });\n  }\n}\n","/**\n * This function checks to see if a given interaction has already been setup on a given element.\n * If it has, it returns the existing interaction state.\n * If it has not, it sets up the interaction state for future checks.\n */\nexport function hasInteraction(element: HTMLElement, interaction: string): boolean {\n  const hasInteraction = `__ngp-${interaction}` in element;\n\n  // if the interaction has not been setup, we mark it as setup for future checks\n  if (!hasInteraction) {\n    (element as unknown as Record<string, unknown>)[`__ngp-${interaction}`] = true;\n  }\n\n  return hasInteraction;\n}\n","import { signal, Signal } from '@angular/core';\nimport {\n  injectElementRef,\n  setupFocus,\n  setupFocusVisible,\n  setupHover,\n  setupPress,\n} from 'ng-primitives/internal';\nimport { hasInteraction } from './interaction';\n\nexport interface NgpInteractionOptions {\n  hover?: boolean;\n  press?: boolean;\n  focus?: boolean;\n  focusWithin?: boolean;\n  focusVisible?: boolean;\n  disabled?: Signal<boolean>;\n}\n\n/**\n * Setup the interactions without relying on HostDirectives.\n */\nexport function setupInteractions({\n  focus,\n  hover,\n  press,\n  focusWithin,\n  focusVisible,\n  disabled = signal(false),\n}: NgpInteractionOptions): void {\n  const elementRef = injectElementRef();\n  // If the interaction has already been setup, we can skip the setup.\n  if (hasInteraction(elementRef.nativeElement, 'interactions')) {\n    return;\n  }\n\n  if (hover) {\n    setupHover({ disabled });\n  }\n  if (press) {\n    setupPress({ disabled });\n  }\n  if (focus) {\n    setupFocus({ focusWithin, disabled });\n  }\n  if (focusVisible) {\n    setupFocusVisible({ disabled });\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}