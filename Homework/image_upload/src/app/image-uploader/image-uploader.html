<div class="uploader">
  <h3>KÃ©p feltÃ¶ltÃ©se</h3>

  <label class="file-label">
    <input type="file" (change)="onFileSelected($event)" accept="image/*" />
    <span class="choose">FÃ¡jl vÃ¡lasztÃ¡sa</span>
  </label>

  <div class="actions">
    <button class="btn" (click)="uploadImage()" [disabled]="!selectedFile || uploading">
      {{ uploading ? 'FeltÃ¶ltÃ©s...' : 'FeltÃ¶ltÃ©s' }}
    </button>
  </div>

  <!-- ElÅ‘nÃ©zet -->
  <div class="preview" *ngIf="selectedPreview && !uploadedImageUrl">
    <p>KivÃ¡lasztott kÃ©p elÅ‘nÃ©zete:</p>
    <img [src]="selectedPreview" alt="ElÅ‘nÃ©zet" />
  </div>

  <!-- FeltÃ¶ltÃ¶tt kÃ©p -->
  <div class="uploaded" *ngIf="uploadedImageUrl">
    <p>Sikeresen feltÃ¶ltve!</p>
    <img [src]="uploadedImageUrl" alt="FeltÃ¶ltÃ¶tt kÃ©p" />
    
    <!-- KÃ¶zvetlen kÃ©p URL link -->
    <div class="link-section">
      <p class="link-title">ğŸ“· KÃ©p URL linkje:</p>
      <div class="link-row">
        <input class="share-input" [value]="uploadedImageUrl" readonly #imageInput />
        <button class="copy-btn" (click)="copyLink(imageInput.value)">{{copyButtonText}}</button>
      </div>
      <button class="open-btn" (click)="openDirectImage()">
        ğŸ”— KÃ©p megnyitÃ¡sa Ãºj lapon
      </button>
      <p class="hint">Ez a kÃ¶zvetlen link a kÃ©pre mutat - bÃ¡rhova beillesztheted</p>
    </div>

    <!-- KÃ©p oldal link (imgBB viewer) - ha lÃ©tezik Ã©s kÃ¼lÃ¶nbÃ¶zik -->
    <div class="link-section" *ngIf="uploadedImagePageUrl && uploadedImagePageUrl !== uploadedImageUrl">
      <p class="link-title">ğŸŒ ImgBB megtekintÅ‘ oldal:</p>
      <div class="link-row">
        <input class="share-input" [value]="uploadedImagePageUrl" readonly #pageInput />
        <button class="copy-btn secondary" (click)="copyPageLink(pageInput.value)">{{copyPageButtonText}}</button>
      </div>
      <button class="open-btn" (click)="openImagePage()">
        ğŸ”— Oldal megnyitÃ¡sa
      </button>
    </div>
  </div>

  <!-- Ã‰rtesÃ­tÃ©s -->
  <div class="toast" *ngIf="toastMessage">{{ toastMessage }}</div>
</div>