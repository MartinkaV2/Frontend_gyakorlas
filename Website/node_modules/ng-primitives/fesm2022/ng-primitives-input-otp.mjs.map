{"version":3,"file":"ng-primitives-input-otp.mjs","sources":["../../../../packages/ng-primitives/input-otp/src/input-otp/input-otp-state.ts","../../../../packages/ng-primitives/input-otp/src/input-otp-input/input-otp-input.ts","../../../../packages/ng-primitives/input-otp/src/input-otp-slot/input-otp-slot.ts","../../../../packages/ng-primitives/input-otp/src/input-otp/input-otp.ts","../../../../packages/ng-primitives/input-otp/src/ng-primitives-input-otp.ts"],"sourcesContent":["import {\n  createState,\n  createStateInjector,\n  createStateProvider,\n  createStateToken,\n} from 'ng-primitives/state';\nimport type { NgpInputOtp } from './input-otp';\n\n/**\n * The state token for the InputOtp primitive.\n */\nexport const NgpInputOtpStateToken = createStateToken<NgpInputOtp>('InputOtp');\n\n/**\n * Provides the InputOtp state.\n */\nexport const provideInputOtpState = createStateProvider(NgpInputOtpStateToken);\n\n/**\n * Injects the InputOtp state.\n */\nexport const injectInputOtpState = createStateInjector<NgpInputOtp>(NgpInputOtpStateToken);\n\n/**\n * The InputOtp state registration function.\n */\nexport const inputOtpState = createState(NgpInputOtpStateToken);\n","import { AfterViewInit, Directive, HostListener } from '@angular/core';\nimport { NgpVisuallyHidden } from 'ng-primitives/a11y';\nimport { injectElementRef } from 'ng-primitives/internal';\nimport { injectInputOtpState } from '../input-otp/input-otp-state';\n\n@Directive({\n  selector: 'input[ngpInputOtpInput]',\n  exportAs: 'ngpInputOtpInput',\n  hostDirectives: [NgpVisuallyHidden],\n  host: {\n    autocomplete: 'one-time-code',\n    '[attr.inputmode]': 'state().inputMode()',\n    '[attr.maxlength]': 'state().maxLength()',\n    '[attr.pattern]': 'state().pattern() || null',\n    '[attr.disabled]': 'state().disabled() ? \"\" : null',\n  },\n})\nexport class NgpInputOtpInput implements AfterViewInit {\n  /**\n   * Access the element reference.\n   */\n  readonly elementRef = injectElementRef<HTMLInputElement>();\n\n  /**\n   * Access the input-otp state.\n   */\n  protected readonly state = injectInputOtpState();\n\n  constructor() {\n    // Register this input with the parent\n    this.state().registerInput(this);\n  }\n\n  ngAfterViewInit(): void {\n    // Set initial value\n    this.elementRef.nativeElement.value = this.state().value();\n  }\n\n  /**\n   * Focus the input.\n   * @internal\n   */\n  focus(): void {\n    this.elementRef.nativeElement.focus();\n  }\n\n  /**\n   * Set selection range.\n   * @param start Start position\n   * @param end End position\n   * @internal\n   */\n  setSelectionRange(start: number, end: number): void {\n    this.elementRef.nativeElement.setSelectionRange(start, end);\n  }\n\n  /**\n   * Handle input events (typing).\n   */\n  @HostListener('input', ['$event'])\n  protected onInput(event: Event): void {\n    if (this.state().disabled()) {\n      return;\n    }\n\n    const input = event.target as HTMLInputElement;\n    let newValue = input.value;\n\n    // Validate against pattern if provided\n    const pattern = this.state().pattern();\n    if (pattern) {\n      const patternRegex = new RegExp(pattern);\n      const filteredValue = newValue\n        .split('')\n        .filter(char => patternRegex.test(char))\n        .join('');\n\n      if (filteredValue !== newValue) {\n        newValue = filteredValue;\n        input.value = newValue;\n      }\n    }\n\n    // Clamp to maxLength\n    const maxLength = this.state().maxLength();\n    if (newValue.length > maxLength) {\n      newValue = newValue.substring(0, maxLength);\n      input.value = newValue;\n    }\n\n    this.state().updateValue(newValue);\n    this.updateSelection();\n  }\n\n  /**\n   * Handle paste events.\n   */\n  @HostListener('paste', ['$event'])\n  protected onPaste(event: ClipboardEvent): void {\n    if (this.state().disabled()) {\n      return;\n    }\n\n    event.preventDefault();\n\n    const clipboardData = event.clipboardData?.getData('text') || '';\n    let pastedText = clipboardData.trim();\n\n    // Apply paste transformer if provided\n    const transformer = this.state().pasteTransformer();\n    if (transformer) {\n      pastedText = transformer(pastedText);\n    }\n\n    // Validate against pattern if provided\n    const pattern = this.state().pattern();\n    if (pattern) {\n      const patternRegex = new RegExp(pattern);\n      pastedText = pastedText\n        .split('')\n        .filter(char => patternRegex.test(char))\n        .join('');\n    }\n\n    // Clamp to maxLength\n    const maxLength = this.state().maxLength();\n    if (pastedText.length > maxLength) {\n      pastedText = pastedText.substring(0, maxLength);\n    }\n\n    // Update the input value and state\n    this.elementRef.nativeElement.value = pastedText;\n    this.state().updateValue(pastedText);\n\n    // Set caret to the end\n    const endPosition = pastedText.length;\n    this.setSelectionRange(endPosition, endPosition);\n    this.updateSelection();\n  }\n\n  /**\n   * Handle focus events.\n   */\n  @HostListener('focus')\n  protected onFocus(): void {\n    this.state().updateFocus(true);\n    this.updateSelection();\n  }\n\n  /**\n   * Handle blur events.\n   */\n  @HostListener('blur')\n  protected onBlur(): void {\n    this.state().updateFocus(false);\n  }\n\n  /**\n   * Handle keyup events to update selection.\n   */\n  @HostListener('keyup')\n  protected onKeyup(): void {\n    this.updateSelection();\n  }\n\n  /**\n   * Handle selection change events.\n   */\n  @HostListener('select')\n  protected onSelect(): void {\n    this.updateSelection();\n  }\n\n  /**\n   * Update the selection state.\n   */\n  private updateSelection(): void {\n    const input = this.elementRef.nativeElement;\n    const maxLength = this.state().maxLength();\n\n    // If input is at max length, set selection to last character\n    if (input.value.length === maxLength) {\n      input.setSelectionRange(input.value.length - 1, input.value.length);\n    }\n\n    // if the input is not at max length, set selection at the end\n    if (input.value.length < maxLength) {\n      input.setSelectionRange(input.value.length, input.value.length);\n    }\n\n    const start = input.selectionStart || 0;\n    const end = input.selectionEnd || 0;\n    this.state().updateSelection(start, end);\n  }\n}\n","import { computed, Directive, OnDestroy } from '@angular/core';\nimport { injectInputOtpState } from '../input-otp/input-otp-state';\n\n@Directive({\n  selector: '[ngpInputOtpSlot]',\n  exportAs: 'ngpInputOtpSlot',\n  host: {\n    role: 'presentation',\n    '[attr.data-slot-index]': 'index()',\n    '[attr.data-active]': 'focused() ? \"\" : null',\n    '[attr.data-filled]': 'filled() ? \"\" : null',\n    '[attr.data-caret]': 'caret() ? \"\" : null',\n    '[attr.data-placeholder]': 'showPlaceholder() ? \"\" : null',\n    '[textContent]': 'displayChar()',\n    '(click)': 'onClick($event)',\n  },\n})\nexport class NgpInputOtpSlot implements OnDestroy {\n  /**\n   * Access the input-otp state.\n   */\n  protected readonly state = injectInputOtpState();\n\n  /**\n   * The computed index of this slot based on registration order.\n   */\n  readonly index = computed(() => this.state().getSlotIndex(this));\n\n  /**\n   * The character for this slot from the value string.\n   */\n  private readonly char = computed(() => {\n    const value = this.state().value();\n    const currentIndex = this.index();\n    return currentIndex >= 0 && currentIndex < value.length ? value[currentIndex] : null;\n  });\n\n  /**\n   * Whether this slot is focused (active).\n   */\n  protected readonly focused = computed(() => {\n    const currentIndex = this.index();\n    const isFocused = this.state().isFocused();\n    const selectionStart = this.state().selectionStart();\n    const value = this.state().value();\n    const maxLength = this.state().maxLength();\n\n    return (\n      isFocused &&\n      (currentIndex === selectionStart ||\n        (value.length === maxLength && currentIndex === maxLength - 1))\n    );\n  });\n\n  /**\n   * Whether this slot should show the caret.\n   */\n  protected readonly caret = computed(() => {\n    const currentIndex = this.index();\n    const isFocused = this.state().isFocused();\n    const selectionStart = this.state().selectionStart();\n    const selectionEnd = this.state().selectionEnd();\n    const value = this.state().value();\n    const maxLength = this.state().maxLength();\n\n    return (\n      isFocused &&\n      currentIndex === selectionStart &&\n      selectionStart === selectionEnd &&\n      value.length < maxLength\n    );\n  });\n\n  /**\n   * Whether this slot is filled with a character.\n   */\n  protected readonly filled = computed(() => this.char() !== null);\n\n  /**\n   * Whether to show placeholder for this slot.\n   */\n  protected readonly showPlaceholder = computed(() => {\n    const placeholder = this.state().placeholder();\n    return !this.filled() && !!placeholder;\n  });\n\n  /**\n   * The display character for this slot (character or placeholder).\n   */\n  protected readonly displayChar = computed(() => {\n    const char = this.char();\n    if (char) return char;\n    if (this.showPlaceholder()) return this.state().placeholder();\n    return '';\n  });\n\n  constructor() {\n    this.state().registerSlot(this);\n  }\n\n  ngOnDestroy(): void {\n    // Unregister this slot when destroyed\n    this.state().unregisterSlot(this);\n  }\n\n  /**\n   * Handle click events on the slot.\n   * @internal\n   */\n  protected onClick(event: Event): void {\n    if (this.state().disabled()) return;\n\n    const currentValue = this.state().value();\n    const maxLength = this.state().maxLength();\n\n    // Focus the first empty slot, or the last slot if all are filled\n    const targetPosition = currentValue.length < maxLength ? currentValue.length : maxLength - 1;\n    this.state().focusAtPosition(targetPosition);\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n","import { BooleanInput } from '@angular/cdk/coercion';\nimport { booleanAttribute, computed, Directive, input, output, signal } from '@angular/core';\nimport { ngpInteractions } from 'ng-primitives/interactions';\nimport { injectElementRef } from 'ng-primitives/internal';\nimport { uniqueId } from 'ng-primitives/utils';\nimport type { NgpInputOtpInput } from '../input-otp-input/input-otp-input';\nimport type { NgpInputOtpSlot } from '../input-otp-slot/input-otp-slot';\nimport { inputOtpState, provideInputOtpState } from './input-otp-state';\n\nexport type NgpInputOtpInputMode =\n  | 'numeric'\n  | 'text'\n  | 'decimal'\n  | 'tel'\n  | 'search'\n  | 'email'\n  | 'url';\n\n@Directive({\n  selector: '[ngpInputOtp]',\n  exportAs: 'ngpInputOtp',\n  providers: [provideInputOtpState()],\n})\nexport class NgpInputOtp {\n  /**\n   * Access the element reference.\n   */\n  readonly elementRef = injectElementRef<HTMLElement>();\n\n  /**\n   * The id of the input-otp.\n   */\n  readonly id = input(uniqueId('ngp-input-otp'));\n\n  /**\n   * The current value of the OTP.\n   */\n  readonly value = input<string>('', {\n    alias: 'ngpInputOtpValue',\n  });\n\n  /**\n   * The regex pattern for allowed characters.\n   */\n  readonly pattern = input<string>('[0-9]', {\n    alias: 'ngpInputOtpPattern',\n  });\n\n  /**\n   * The input mode for the hidden input.\n   */\n  readonly inputMode = input<NgpInputOtpInputMode>('text', {\n    alias: 'ngpInputOtpInputMode',\n  });\n\n  /**\n   * Function to transform pasted text.\n   */\n  readonly pasteTransformer = input<(text: string) => string>(undefined, {\n    alias: 'ngpInputOtpPasteTransformer',\n  });\n\n  /**\n   * Whether the input-otp is disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpInputOtpDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * The placeholder character to display when a slot is empty.\n   */\n  readonly placeholder = input<string>('', {\n    alias: 'ngpInputOtpPlaceholder',\n  });\n\n  /**\n   * Event emitted when the value changes.\n   */\n  readonly valueChange = output<string>({\n    alias: 'ngpInputOtpValueChange',\n  });\n\n  /**\n   * Event emitted when the OTP is complete (maxLength characters entered).\n   */\n  readonly complete = output<string>({\n    alias: 'ngpInputOtpComplete',\n  });\n\n  /**\n   * Store the input element reference.\n   * @internal\n   */\n  private readonly inputElement = signal<NgpInputOtpInput | undefined>(undefined);\n\n  /**\n   * Store registered slots in order.\n   * @internal\n   */\n  private readonly slots = signal<NgpInputOtpSlot[]>([]);\n\n  /**\n   * The number of characters in the OTP, derived from registered slots.\n   */\n  readonly maxLength = computed(() => this.slots().length);\n\n  /**\n   * The focus state of the input.\n   * @internal\n   */\n  readonly isFocused = signal(false);\n\n  /**\n   * The selection start position.\n   * @internal\n   */\n  readonly selectionStart = signal(0);\n\n  /**\n   * The selection end position.\n   * @internal\n   */\n  readonly selectionEnd = signal(0);\n\n  /**\n   * The state of the input-otp.\n   */\n  protected readonly state = inputOtpState<NgpInputOtp>(this);\n\n  constructor() {\n    ngpInteractions({\n      hover: true,\n      press: true,\n      focus: true,\n      disabled: this.state.disabled,\n    });\n  }\n\n  /**\n   * Register an input element with the input-otp.\n   * @param input The input element to register.\n   * @internal\n   */\n  registerInput(input: NgpInputOtpInput): void {\n    this.inputElement.set(input);\n  }\n\n  /**\n   * Register a slot with the input-otp.\n   * @param slot The slot to register.\n   * @internal\n   */\n  registerSlot(slot: NgpInputOtpSlot): void {\n    this.slots.update(currentSlots => [...currentSlots, slot]);\n  }\n\n  /**\n   * Unregister a slot from the input-otp.\n   * @param slot The slot to unregister.\n   * @internal\n   */\n  unregisterSlot(slot: NgpInputOtpSlot): void {\n    this.slots.update(currentSlots => currentSlots.filter(s => s !== slot));\n  }\n\n  /**\n   * Get the index of a registered slot.\n   * @param slot The slot to get the index for.\n   * @returns The index of the slot, or -1 if not found.\n   * @internal\n   */\n  getSlotIndex(slot: NgpInputOtpSlot): number {\n    return this.slots().indexOf(slot);\n  }\n\n  /**\n   * Update the value and emit change events.\n   * @param newValue The new value.\n   * @internal\n   */\n  updateValue(newValue: string): void {\n    if (newValue === this.state.value()) {\n      return;\n    }\n\n    this.state.value.set(newValue);\n    this.valueChange.emit(newValue);\n\n    // Emit complete event when the OTP is complete\n    if (newValue.length === this.maxLength()) {\n      this.complete.emit(newValue);\n    }\n  }\n\n  /**\n   * Update focus state.\n   * @param focused Whether the input is focused.\n   * @internal\n   */\n  updateFocus(focused: boolean): void {\n    this.isFocused.set(focused);\n  }\n\n  /**\n   * Update selection state.\n   * @param start Selection start position.\n   * @param end Selection end position.\n   * @internal\n   */\n  updateSelection(start: number, end: number): void {\n    this.selectionStart.set(start);\n    this.selectionEnd.set(end);\n  }\n\n  /**\n   * Focus the input and set caret to the specified position.\n   * @param position The position to set the caret to.\n   * @internal\n   */\n  focusAtPosition(position: number): void {\n    const input = this.inputElement();\n    if (!input) {\n      return;\n    }\n\n    input.focus();\n    input.setSelectionRange(position, position);\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}