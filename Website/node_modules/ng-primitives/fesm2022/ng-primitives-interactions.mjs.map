{"version":3,"file":"ng-primitives-interactions.mjs","sources":["../../../../packages/ng-primitives/interactions/src/config/interactions-config.ts","../../../../packages/ng-primitives/interactions/src/focus-visible/focus-visible-interaction.ts","../../../../packages/ng-primitives/interactions/src/focus/focus-interaction.ts","../../../../packages/ng-primitives/interactions/src/hover/hover-interaction.ts","../../../../packages/ng-primitives/interactions/src/press/press-interaction.ts","../../../../packages/ng-primitives/interactions/src/interactions/interactions.ts","../../../../packages/ng-primitives/interactions/src/focus-visible/focus-visible.ts","../../../../packages/ng-primitives/interactions/src/focus/focus.ts","../../../../packages/ng-primitives/interactions/src/hover/hover.ts","../../../../packages/ng-primitives/interactions/src/move/move.ts","../../../../packages/ng-primitives/interactions/src/press/press.ts","../../../../packages/ng-primitives/interactions/src/index.ts","../../../../packages/ng-primitives/interactions/src/ng-primitives-interactions.ts"],"sourcesContent":["import { InjectionToken, Provider, inject } from '@angular/core';\n\nexport interface NgpInteractionsConfig {\n  /** Whether all interactions are disabled */\n  disabled?: boolean;\n  /** Whether hover interactions are enabled */\n  hover?: boolean;\n  /** Whether focus interactions are enabled */\n  focus?: boolean;\n  /** Whether focus-visible interactions are enabled */\n  focusVisible?: boolean;\n  /** Whether press interactions are enabled */\n  press?: boolean;\n}\n\nexport const defaultInteractionsConfig: NgpInteractionsConfig = {\n  disabled: false,\n  hover: true,\n  focus: true,\n  focusVisible: true,\n  press: true,\n};\n\nexport const NgpInteractionsConfigToken = new InjectionToken<NgpInteractionsConfig>(\n  'NgpInteractionsConfigToken',\n);\n\n/**\n * Provide the default Interactions configuration\n * @param config The Interactions configuration\n * @returns The provider\n */\nexport function provideInteractionsConfig(config: Partial<NgpInteractionsConfig>): Provider[] {\n  return [\n    {\n      provide: NgpInteractionsConfigToken,\n      useValue: { ...defaultInteractionsConfig, ...config },\n    },\n  ];\n}\n\n/**\n * Inject the Interactions configuration\n * @returns The global Interactions configuration\n */\nexport function injectInteractionsConfig(): NgpInteractionsConfig {\n  return inject(NgpInteractionsConfigToken, { optional: true }) ?? defaultInteractionsConfig;\n}\n\nexport function isHoverEnabled(): boolean {\n  const config = injectInteractionsConfig();\n  return !config.disabled && !!config.hover;\n}\n\nexport function isFocusEnabled(): boolean {\n  const config = injectInteractionsConfig();\n  return !config.disabled && !!config.focus;\n}\n\nexport function isFocusVisibleEnabled(): boolean {\n  const config = injectInteractionsConfig();\n  return !config.disabled && !!config.focusVisible;\n}\n\nexport function isPressEnabled(): boolean {\n  const config = injectInteractionsConfig();\n  return !config.disabled && !!config.press;\n}\n","import { FocusMonitor, FocusOrigin } from '@angular/cdk/a11y';\nimport { ElementRef, inject, Renderer2, Signal, signal } from '@angular/core';\nimport { onBooleanChange, safeTakeUntilDestroyed } from 'ng-primitives/utils';\nimport { isFocusVisibleEnabled } from '../config/interactions-config';\n\nexport interface NgpFocusVisibleOptions {\n  disabled?: Signal<boolean>;\n  focusChange?: (value: boolean) => void;\n}\n\nexport interface NgpFocusVisibleState {\n  isFocused: Signal<boolean>;\n}\n\n/**\n * @internal\n */\nexport function ngpFocusVisibleInteraction({\n  focusChange,\n  disabled = signal(false),\n}: NgpFocusVisibleOptions): NgpFocusVisibleState {\n  const canFocusVisible = isFocusVisibleEnabled();\n\n  if (!canFocusVisible) {\n    return { isFocused: signal(false) };\n  }\n\n  const elementRef = inject<ElementRef<HTMLElement>>(ElementRef);\n  const renderer = inject(Renderer2);\n  const focusMonitor = inject(FocusMonitor);\n\n  // Whether the element is currently focused.\n  const isFocused = signal<boolean>(false);\n\n  // handle focus state\n  focusMonitor\n    .monitor(elementRef.nativeElement)\n    .pipe(safeTakeUntilDestroyed())\n    .subscribe(origin =>\n      // null indicates the element was blurred\n      origin === null ? onBlur() : onFocus(origin),\n    );\n\n  // if the component becomes disabled and it is focused, hide the focus\n  onBooleanChange(disabled, () => focus(false));\n\n  function onFocus(origin: FocusOrigin): void {\n    if (disabled() || isFocused()) {\n      return;\n    }\n\n    // for some elements the focus visible state should always appear on focus\n    if (alwaysShowFocus()) {\n      focus(true);\n      return;\n    }\n\n    // if the focus origin is keyboard or program(focused programmatically), then the focus is visible\n    if (origin === 'keyboard') {\n      focus(true);\n      return;\n    }\n  }\n\n  function onBlur(): void {\n    if (disabled() || !isFocused()) {\n      return;\n    }\n\n    focus(false);\n  }\n\n  /**\n   * Trigger the focus signal along with the focusChange event.\n   */\n  function focus(value: boolean) {\n    if (isFocused() === value) {\n      return;\n    }\n\n    isFocused.set(value);\n    focusChange?.(value);\n\n    if (value) {\n      renderer.setAttribute(elementRef.nativeElement, 'data-focus-visible', '');\n    } else {\n      renderer.removeAttribute(elementRef.nativeElement, 'data-focus-visible');\n    }\n  }\n\n  function alwaysShowFocus(): boolean {\n    const nonTextInputTypes = [\n      'checkbox',\n      'radio',\n      'range',\n      'color',\n      'file',\n      'image',\n      'button',\n      'submit',\n      'reset',\n    ];\n\n    // if this is an input element and it is a text input\n    if (\n      elementRef.nativeElement instanceof HTMLInputElement &&\n      !nonTextInputTypes.includes(elementRef.nativeElement.type)\n    ) {\n      return true;\n    }\n\n    // if this is a textarea\n    if (elementRef.nativeElement instanceof HTMLTextAreaElement) {\n      return true;\n    }\n\n    // if this is an element with contenteditable\n    if (\n      elementRef.nativeElement.isContentEditable ||\n      elementRef.nativeElement.hasAttribute('contenteditable')\n    ) {\n      return true;\n    }\n\n    return false;\n  }\n\n  return {\n    isFocused,\n  };\n}\n","import { FocusMonitor } from '@angular/cdk/a11y';\nimport { ElementRef, Renderer2, Signal, inject, signal } from '@angular/core';\nimport { safeTakeUntilDestroyed } from 'ng-primitives/utils';\nimport { isFocusEnabled } from '../config/interactions-config';\n\nexport interface NgpFocusOptions {\n  disabled?: Signal<boolean>;\n  focusWithin?: boolean;\n  focus?: () => void;\n  blur?: () => void;\n}\n\nexport interface NgpFocusState {\n  isFocused: Signal<boolean>;\n}\n\n/**\n * @internal\n */\nexport function ngpFocusInteraction({\n  focus,\n  blur,\n  focusWithin = false,\n  disabled = signal(false),\n}: NgpFocusOptions): NgpFocusState {\n  const canFocus = isFocusEnabled();\n\n  if (!canFocus) {\n    return { isFocused: signal(false) };\n  }\n  /**\n   * Access the element reference.\n   */\n  const elementRef = inject<ElementRef<HTMLElement>>(ElementRef);\n\n  /**\n   * Access the focus monitor.\n   */\n  const focusMonitor = inject(FocusMonitor);\n\n  /**\n   * Access the renderer.\n   */\n  const renderer = inject(Renderer2);\n\n  /**\n   * Whether the element is currently focused.\n   */\n  const isFocused = signal<boolean>(false);\n\n  focusMonitor\n    .monitor(elementRef, focusWithin)\n    .pipe(safeTakeUntilDestroyed())\n    .subscribe(focusOrigin => {\n      if (disabled()) {\n        return;\n      }\n\n      isFocused.set(focusOrigin !== null);\n      if (focusOrigin !== null) {\n        if (focus) {\n          focus();\n        }\n        renderer.setAttribute(elementRef.nativeElement, 'data-focus', '');\n      } else {\n        if (blur) {\n          blur();\n        }\n        renderer.removeAttribute(elementRef.nativeElement, 'data-focus');\n      }\n    });\n\n  return { isFocused };\n}\n","import { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { effect, ElementRef, inject, Injectable, PLATFORM_ID, Signal, signal } from '@angular/core';\nimport { onDomRemoval } from 'ng-primitives/internal';\nimport { injectDisposables, onBooleanChange } from 'ng-primitives/utils';\nimport { isHoverEnabled } from '../config/interactions-config';\n\n/**\n * We use a service here as this value is a singleton\n * and allows us to register the dom events once.\n */\n@Injectable({\n  providedIn: 'root',\n})\nclass GlobalPointerEvents {\n  /**\n   * Whether global mouse events should be ignored.\n   */\n  ignoreEmulatedMouseEvents: boolean = false;\n\n  /**\n   * Access the document.\n   */\n  private readonly document = inject(DOCUMENT);\n\n  /**\n   * Determine the platform id.\n   */\n  private readonly platformId = inject(PLATFORM_ID);\n\n  constructor() {\n    // we only want to setup events on the client\n    if (isPlatformBrowser(this.platformId)) {\n      this.setupGlobalTouchEvents();\n    }\n  }\n\n  private setupGlobalTouchEvents(): void {\n    this.document.addEventListener('pointerup', this.handleGlobalPointerEvent.bind(this));\n    this.document.addEventListener('touchend', this.setGlobalIgnoreEmulatedMouseEvents.bind(this));\n  }\n\n  private setGlobalIgnoreEmulatedMouseEvents(): void {\n    this.ignoreEmulatedMouseEvents = true;\n    // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n    // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n    // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n    // the distant future because a user previously touched the element.\n    setTimeout(() => (this.ignoreEmulatedMouseEvents = false), 50);\n  }\n\n  private handleGlobalPointerEvent(event: PointerEvent): void {\n    if (event.pointerType === 'touch') {\n      this.setGlobalIgnoreEmulatedMouseEvents();\n    }\n  }\n}\n\ninterface NgpHoverOptions {\n  disabled?: Signal<boolean>;\n  hoverStart?: () => void;\n  hoverEnd?: () => void;\n}\n\nexport interface NgpHoverState {\n  hovered: Signal<boolean>;\n}\n\n/**\n * Programatically add the hover functionality to an element.\n * This is useful in cases where we can't necessarily use a HostDirective,\n * because there is a chance the directive has already been used.\n * @internal\n */\nexport function ngpHoverInteraction({\n  hoverStart,\n  hoverEnd,\n  disabled = signal(false),\n}: NgpHoverOptions): NgpHoverState {\n  const canHover = isHoverEnabled();\n\n  if (!canHover) {\n    return { hovered: signal(false) };\n  }\n\n  /**\n   * Access the element.\n   */\n  const elementRef = inject<ElementRef<HTMLElement>>(ElementRef);\n\n  /**\n   * Access the global pointer events handler.\n   */\n  const globalPointerEvents = inject(GlobalPointerEvents);\n\n  /**\n   * Access the disposable helper.\n   */\n  const disposables = injectDisposables();\n\n  /**\n   * Store the current hover state.\n   */\n  const hovered = signal<boolean>(false);\n\n  /**\n   * Whether this element should ignore emulated mouse events.\n   */\n  let ignoreEmulatedMouseEvents: boolean = false;\n\n  /**\n   * Setup event listeners.\n   */\n  disposables.addEventListener(elementRef.nativeElement, 'pointerenter', onPointerEnter);\n  disposables.addEventListener(elementRef.nativeElement, 'pointerleave', onPointerLeave);\n  disposables.addEventListener(elementRef.nativeElement, 'touchstart', onTouchStart);\n  disposables.addEventListener(elementRef.nativeElement, 'mouseenter', onMouseEnter);\n  disposables.addEventListener(elementRef.nativeElement, 'mouseleave', onMouseLeave);\n\n  // anytime the disabled state changes to true, we must reset the hover state\n  if (disabled) {\n    onBooleanChange(disabled, reset);\n  }\n\n  // if the element is removed from the dom, we want to reset the hover state\n  onDomRemoval(elementRef.nativeElement, reset);\n\n  // anytime the hover state changes we want to update the attribute\n  effect(() =>\n    hovered()\n      ? elementRef.nativeElement.setAttribute('data-hover', '')\n      : elementRef.nativeElement.removeAttribute('data-hover'),\n  );\n\n  /**\n   * Reset the hover state.\n   */\n  function reset(): void {\n    onHoverEnd('mouse');\n  }\n\n  /**\n   * Trigger the hover start events.\n   * @param event\n   * @param pointerType\n   */\n  function onHoverStart(event: Event, pointerType: string): void {\n    if (\n      disabled() ||\n      pointerType === 'touch' ||\n      hovered() ||\n      !(event.currentTarget as Element)?.contains(event.target as Element)\n    ) {\n      return;\n    }\n\n    hovered.set(true);\n    hoverStart?.();\n  }\n\n  /**\n   * Trigger the hover end events.\n   * @param pointerType\n   */\n  function onHoverEnd(pointerType: string): void {\n    if (pointerType === 'touch' || !hovered()) {\n      return;\n    }\n\n    hovered.set(false);\n    hoverEnd?.();\n  }\n\n  function onPointerEnter(event: PointerEvent): void {\n    if (globalPointerEvents.ignoreEmulatedMouseEvents && event.pointerType === 'mouse') {\n      return;\n    }\n\n    onHoverStart(event, event.pointerType);\n  }\n\n  function onPointerLeave(event: PointerEvent): void {\n    if (!disabled() && (event.currentTarget as Element)?.contains(event.target as Element)) {\n      onHoverEnd(event.pointerType);\n    }\n  }\n\n  function onTouchStart(): void {\n    ignoreEmulatedMouseEvents = true;\n  }\n\n  function onMouseEnter(event: MouseEvent): void {\n    if (!ignoreEmulatedMouseEvents && !globalPointerEvents.ignoreEmulatedMouseEvents) {\n      onHoverStart(event, 'mouse');\n    }\n\n    ignoreEmulatedMouseEvents = false;\n  }\n\n  function onMouseLeave(event: MouseEvent): void {\n    if (!disabled() && (event.currentTarget as Element)?.contains(event.target as Element)) {\n      onHoverEnd('mouse');\n    }\n  }\n\n  return { hovered };\n}\n","import { ElementRef, Signal, effect, inject, signal } from '@angular/core';\nimport { injectDisposables } from 'ng-primitives/utils';\nimport { isPressEnabled } from '../config/interactions-config';\n\ninterface NgpPressState {\n  pressed: Signal<boolean>;\n}\n\ninterface NgpPressOptions {\n  disabled?: Signal<boolean>;\n  pressStart?: () => void;\n  pressEnd?: () => void;\n}\n\n/**\n * @internal\n */\nexport function ngpPressInteraction({\n  pressStart,\n  pressEnd,\n  disabled = signal(false),\n}: NgpPressOptions): NgpPressState {\n  const canPress = isPressEnabled();\n\n  if (!canPress) {\n    return { pressed: signal(false) };\n  }\n\n  const elementRef = inject<ElementRef<HTMLElement>>(ElementRef);\n  const disposables = injectDisposables();\n\n  /**\n   * Whether the element is currently pressed.\n   */\n  const pressed = signal<boolean>(false);\n\n  // setup event listeners\n  disposables.addEventListener(elementRef.nativeElement, 'pointerdown', onPointerDown);\n\n  // anytime the press state changes we want to update the attribute\n  effect(() =>\n    pressed() && !disabled()\n      ? elementRef.nativeElement.setAttribute('data-press', '')\n      : elementRef.nativeElement.removeAttribute('data-press'),\n  );\n\n  /**\n   * Reset the press state.\n   */\n  function reset(): void {\n    // if we are not pressing, then do nothing\n    if (!pressed()) {\n      return;\n    }\n\n    // clear any existing disposables\n    disposableListeners.forEach(dispose => dispose());\n    pressed.set(false);\n    pressEnd?.();\n  }\n\n  /**\n   * Store the list of disposables.\n   */\n  let disposableListeners: (() => void)[] = [];\n\n  function onPointerDown(): void {\n    if (disabled()) {\n      return;\n    }\n\n    // clear any existing disposables\n    disposableListeners.forEach(dispose => dispose());\n\n    // update the press state\n    pressed.set(true);\n    pressStart?.();\n\n    // setup global event listeners to catch events on elements outside the directive\n    const ownerDocument = elementRef.nativeElement.ownerDocument ?? document;\n\n    // if the pointer up event happens on any elements, then we are no longer pressing on this element\n    const pointerUp = disposables.addEventListener(\n      ownerDocument,\n      'pointerup',\n      () => reset(),\n      false,\n    );\n\n    // Instead of relying on the `pointerleave` event, which is not consistently called on iOS Safari,\n    // we use the `pointermove` event to determine if we are still \"pressing\".\n    // By checking if the target is still within the element, we can determine if the press is ongoing.\n    const pointerMove = disposables.addEventListener(\n      ownerDocument,\n      'pointermove',\n      () => onPointerMove as EventListener,\n      false,\n    );\n\n    // if the pointer is cancelled, then we are no longer pressing on this element\n    const pointerCancel = disposables.addEventListener(\n      ownerDocument,\n      'pointercancel',\n      () => reset(),\n      false,\n    );\n\n    disposableListeners = [pointerUp, pointerMove, pointerCancel];\n  }\n\n  function onPointerMove(event: PointerEvent): void {\n    if (\n      elementRef.nativeElement !== event.target &&\n      !elementRef.nativeElement.contains(event.target as Node)\n    ) {\n      reset();\n    }\n  }\n\n  return { pressed };\n}\n","import { signal, Signal } from '@angular/core';\nimport { injectElementRef } from 'ng-primitives/internal';\nimport { ngpFocusVisibleInteraction } from '../focus-visible/focus-visible-interaction';\nimport { ngpFocusInteraction } from '../focus/focus-interaction';\nimport { ngpHoverInteraction } from '../hover/hover-interaction';\nimport { ngpPressInteraction } from '../press/press-interaction';\n\nexport interface NgpInteractionOptions {\n  hover?: boolean;\n  press?: boolean;\n  focus?: boolean;\n  focusWithin?: boolean;\n  focusVisible?: boolean;\n  disabled?: Signal<boolean>;\n}\n\n/**\n * Setup the interactions without relying on HostDirectives.\n * @internal\n */\nexport function ngpInteractions({\n  focus,\n  hover,\n  press,\n  focusWithin,\n  focusVisible,\n  disabled = signal(false),\n}: NgpInteractionOptions): void {\n  const elementRef = injectElementRef();\n  // If the interaction has already been setup, we can skip the setup.\n  if (hasInteraction(elementRef.nativeElement, 'interactions')) {\n    return;\n  }\n\n  if (hover) {\n    ngpHoverInteraction({ disabled });\n  }\n  if (press) {\n    ngpPressInteraction({ disabled });\n  }\n  if (focus) {\n    ngpFocusInteraction({ focusWithin, disabled });\n  }\n  if (focusVisible) {\n    ngpFocusVisibleInteraction({ disabled });\n  }\n}\n\n/**\n * This function checks to see if a given interaction has already been setup on a given element.\n * If it has, it returns the existing interaction state.\n * If it has not, it sets up the interaction state for future checks.\n */\nexport function hasInteraction(element: HTMLElement, interaction: string): boolean {\n  const hasInteraction = `__ngp-${interaction}` in element;\n\n  // if the interaction has not been setup, we mark it as setup for future checks\n  if (!hasInteraction) {\n    (element as unknown as Record<string, unknown>)[`__ngp-${interaction}`] = true;\n  }\n\n  return hasInteraction;\n}\n","import { BooleanInput } from '@angular/cdk/coercion';\nimport { Directive, booleanAttribute, input, output } from '@angular/core';\nimport { ngpFocusVisibleInteraction } from './focus-visible-interaction';\n\n/**\n * Apply the `ngpFocusVisible` directive to an element that should be visually focused. This is similar to `ngpFocus`\n * but it will only apply the focus visible styles when the element is focused via keyboard navigation.\n */\n@Directive({\n  selector: '[ngpFocusVisible]',\n  exportAs: 'ngpFocusVisible',\n})\nexport class NgpFocusVisible {\n  /**\n   * Whether focus events are listened to.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpFocusVisibleDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit when the element is visually focused.\n   */\n  readonly focusChange = output<boolean>({\n    alias: 'ngpFocusVisible',\n  });\n\n  constructor() {\n    // setup the focus visible listener\n    ngpFocusVisibleInteraction({\n      disabled: this.disabled,\n      focusChange: value => this.focusChange.emit(value),\n    });\n  }\n}\n","import { BooleanInput } from '@angular/cdk/coercion';\nimport { Directive, booleanAttribute, input, output } from '@angular/core';\nimport { ngpFocusInteraction } from './focus-interaction';\n\n/**\n * This was inspired by the React Aria useFocus hook.\n * https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/interactions/src/useFocus.ts#L20\n */\n@Directive({\n  selector: '[ngpFocus]',\n  exportAs: 'ngpFocus',\n})\nexport class NgpFocus {\n  /**\n   * Whether listening for focus events is disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpFocusDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit when the focus state changes.\n   */\n  readonly focus = output<boolean>({ alias: 'ngpFocus' });\n\n  constructor() {\n    // setup the focus listener\n    ngpFocusInteraction({\n      disabled: this.disabled,\n      focus: () => this.focus.emit(true),\n      blur: () => this.focus.emit(false),\n    });\n  }\n}\n","import type { BooleanInput } from '@angular/cdk/coercion';\nimport { Directive, booleanAttribute, input, output } from '@angular/core';\nimport { ngpHoverInteraction } from './hover-interaction';\n\n// This is an Angular port of the useHover hook from react-aria: https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/interactions/src/useHover.ts\n\n/**\n * Apply the `ngpHover` directive to an element that you want to listen for hover events. T\n * his is particulaly useful for supporting hover events on touch devices, where hover events are not handled consistently.\n * On iOS relying on the `:hover` pseudo-class can result in the hover state being stuck until the user taps elsewhere on the screen.\n */\n@Directive({\n  selector: '[ngpHover]',\n  exportAs: 'ngpHover',\n})\nexport class NgpHover {\n  /**\n   * Whether hoving should be disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpHoverDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit an event when hovering starts.\n   */\n  readonly hoverStart = output<void>({ alias: 'ngpHoverStart' });\n\n  /**\n   * Emit an event when hovering ends.\n   */\n  readonly hoverEnd = output<void>({ alias: 'ngpHoverEnd' });\n\n  /**\n   * Emit an event when the hover state changes.\n   */\n  readonly hoverChange = output<boolean>({ alias: 'ngpHover' });\n\n  /**\n   * Setup the hover state.\n   */\n  constructor() {\n    // setup the hover listener\n    ngpHoverInteraction({\n      hoverStart: () => {\n        this.hoverStart.emit();\n        this.hoverChange.emit(true);\n      },\n      hoverEnd: () => {\n        this.hoverEnd.emit();\n        this.hoverChange.emit(false);\n      },\n      disabled: this.disabled,\n    });\n  }\n}\n","import { BooleanInput } from '@angular/cdk/coercion';\nimport { booleanAttribute, Directive, HostListener, input, output, signal } from '@angular/core';\nimport { injectDisposables } from 'ng-primitives/utils';\n\n// Inspired by react-aria useMove hook: https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/interactions/src/useMove.ts\n\n/**\n * The `NgpMove` directive is used to enable the pointer and keyboard move interactions on an element.\n */\n@Directive({\n  selector: '[ngpMove]',\n  exportAs: 'ngpMove',\n  host: {\n    '[attr.data-move]': 'isMoving() ? \"\" : null',\n  },\n})\nexport class NgpMove {\n  /**\n   * Access the disposable helper.\n   */\n  private readonly disposables = injectDisposables();\n\n  /**\n   * Whether movement is disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpMoveDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit when the move event begins.\n   */\n  readonly start = output<NgpMoveStartEvent>({\n    alias: 'ngpMoveStart',\n  });\n\n  /**\n   * Emit when the element is moved.\n   */\n  readonly move = output<NgpMoveEvent>({\n    alias: 'ngpMove',\n  });\n\n  /**\n   * Emit when the move event ends.\n   */\n  readonly end = output<NgpMoveEndEvent>({\n    alias: 'ngpMoveEnd',\n  });\n\n  /**\n   * Whether the element is currently being moved.\n   */\n  private isMoving = signal<boolean>(false);\n\n  /**\n   * Store the last x position of the element.\n   */\n  private x: number | null = null;\n\n  /**\n   * Store the last y position of the element.\n   */\n  private y: number | null = null;\n\n  /**\n   * Store the id of the last pointer.\n   */\n  private pointerId: number | null = null;\n\n  /**\n   * Store the disposable event listeners.\n   */\n  private disposableListeners: (() => void)[] = [];\n\n  /**\n   * Handle a move start.\n   */\n  private onMoveStart(event: PointerEvent | KeyboardEvent, pointerType: PointerType): void {\n    this.start.emit({\n      pointerType,\n      shiftKey: event.shiftKey,\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      altKey: event.altKey,\n    });\n    this.isMoving.set(true);\n  }\n\n  /**\n   * Handle a move event.\n   */\n  private onMove(\n    event: PointerEvent | KeyboardEvent,\n    pointerType: PointerType,\n    deltaX: number,\n    deltaY: number,\n  ): void {\n    if (deltaX === 0 && deltaY === 0) {\n      return;\n    }\n\n    this.move.emit({\n      deltaX,\n      deltaY,\n      pointerType,\n      shiftKey: event.shiftKey,\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      altKey: event.altKey,\n    });\n  }\n\n  /**\n   * Handle a move end.\n   */\n  private onMoveEnd(event: PointerEvent | KeyboardEvent, pointerType: PointerType): void {\n    this.end.emit({\n      pointerType,\n      shiftKey: event.shiftKey,\n      ctrlKey: event.ctrlKey,\n      metaKey: event.metaKey,\n      altKey: event.altKey,\n    });\n    this.isMoving.set(false);\n  }\n\n  /**\n   * Handle the pointer down event.\n   */\n  @HostListener('pointerdown', ['$event'])\n  protected onPointerDown(event: PointerEvent): void {\n    // ignore right-click or additional pointers\n    if (event.button !== 0 || this.pointerId !== null || this.disabled()) {\n      return;\n    }\n\n    // prevent the default behavior\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.onMoveStart(event, event.pointerType as PointerType);\n\n    // store the pointer id and initial position\n    this.pointerId = event.pointerId;\n    this.x = event.pageX;\n    this.y = event.pageY;\n\n    // add global event listeners\n    const pointerMove = this.disposables.addEventListener(\n      window,\n      'pointermove',\n      this.onPointerMove.bind(this) as EventListener,\n      false,\n    );\n\n    const pointerUp = this.disposables.addEventListener(\n      window,\n      'pointerup',\n      this.onPointerUp.bind(this) as EventListener,\n      false,\n    );\n\n    const pointerCancel = this.disposables.addEventListener(\n      window,\n      'pointercancel',\n      this.onPointerUp.bind(this) as EventListener,\n      false,\n    );\n\n    // store the disposable event listeners\n    this.disposableListeners = [pointerMove, pointerUp, pointerCancel];\n  }\n\n  /**\n   * Handle the pointer up event.\n   */\n  protected onPointerUp(event: PointerEvent): void {\n    if (this.pointerId !== event.pointerId) {\n      return;\n    }\n\n    const pointerType = (event.pointerType ?? 'mouse') as PointerType;\n    this.onMoveEnd(event, pointerType);\n    this.pointerId = null;\n    this.disposableListeners.forEach(dispose => dispose());\n  }\n\n  /**\n   * Handle the pointer move event.\n   */\n  protected onPointerMove(event: PointerEvent): void {\n    if (this.pointerId !== event.pointerId) {\n      return;\n    }\n\n    // Problems with PointerEvent#movementX/movementY:\n    // 1. it is always 0 on macOS Safari.\n    // 2. On Chrome Android, it's scaled by devicePixelRatio, but not on Chrome macOS\n    this.onMove(\n      event,\n      event.pointerType as PointerType,\n      event.pageX - (this.x ?? 0),\n      event.pageY - (this.y ?? 0),\n    );\n    this.x = event.pageX;\n    this.y = event.pageY;\n  }\n\n  private triggerKeyboardMove(event: KeyboardEvent, deltaX: number, deltaY: number): void {\n    if (this.disabled()) {\n      return;\n    }\n\n    this.onMoveStart(event, 'keyboard');\n    this.onMove(event, 'keyboard', deltaX, deltaY);\n    this.onMoveEnd(event, 'keyboard');\n  }\n\n  @HostListener('keydown.ArrowUp', ['$event'])\n  protected onArrowUp(event: KeyboardEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerKeyboardMove(event, 0, -1);\n  }\n\n  @HostListener('keydown.ArrowDown', ['$event'])\n  protected onArrowDown(event: KeyboardEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerKeyboardMove(event, 0, 1);\n  }\n\n  @HostListener('keydown.ArrowLeft', ['$event'])\n  protected onArrowLeft(event: KeyboardEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerKeyboardMove(event, -1, 0);\n  }\n\n  @HostListener('keydown.ArrowRight', ['$event'])\n  protected onArrowRight(event: KeyboardEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    this.triggerKeyboardMove(event, 1, 0);\n  }\n}\n\ninterface NgpMoveBaseEvent {\n  /**\n   * Whether the event was triggered by a mouse or keyboard event.\n   */\n  pointerType: PointerType;\n  /**\n   * Whether the shift key was pressed during the event.\n   */\n  shiftKey: boolean;\n  /**\n   * Whether the control key was pressed during the event.\n   */\n  ctrlKey: boolean;\n  /**\n   * Whether the meta key was pressed during the event.\n   */\n  metaKey: boolean;\n  /**\n   * Whether the alt key was pressed during the event.\n   */\n  altKey: boolean;\n}\n\nexport type NgpMoveStartEvent = NgpMoveBaseEvent;\nexport type NgpMoveEndEvent = NgpMoveBaseEvent;\n\nexport interface NgpMoveEvent extends NgpMoveBaseEvent {\n  /**\n   * The amount of pixels moved in the x-axis.\n   */\n  deltaX: number;\n  /**\n   * The amount of pixels moved in the y-axis.\n   */\n  deltaY: number;\n}\n\nexport type PointerType = 'mouse' | 'pen' | 'touch' | 'keyboard' | 'virtual';\n","import { BooleanInput } from '@angular/cdk/coercion';\nimport { Directive, booleanAttribute, input, output } from '@angular/core';\nimport { ngpPressInteraction } from './press-interaction';\n\n// This was inpsired by Headless UI's active-press hook: https://github.com/tailwindlabs/headlessui/blob/main/packages/%40headlessui-react/src/hooks/use-active-press.tsx\n\n/**\n * The `ngpPress` directive listens for press events on an element. This is particularly useful for supporting press events on touch devices, where press events are not handled consistently.\n */\n@Directive({\n  selector: '[ngpPress]',\n  exportAs: 'ngpPress',\n})\nexport class NgpPress {\n  /**\n   * Whether listening for press events is disabled.\n   */\n  readonly disabled = input<boolean, BooleanInput>(false, {\n    alias: 'ngpPressDisabled',\n    transform: booleanAttribute,\n  });\n\n  /**\n   * Emit when the press begins.\n   */\n  readonly pressStart = output<void>({\n    alias: 'ngpPressStart',\n  });\n\n  /**\n   * Emit when the press ends.\n   */\n  readonly pressEnd = output<void>({\n    alias: 'ngpPressEnd',\n  });\n\n  /**\n   * Emit when the press changes.\n   */\n  readonly pressChange = output<boolean>({\n    alias: 'ngpPress',\n  });\n\n  constructor() {\n    // setup the press listener\n    ngpPressInteraction({\n      pressStart: () => {\n        this.pressStart.emit();\n        this.pressChange.emit(true);\n      },\n      pressEnd: () => {\n        this.pressEnd.emit();\n        this.pressChange.emit(false);\n      },\n      disabled: this.disabled,\n    });\n  }\n}\n","// re-export ngpInteractions as setupInteractions for backwards compatibility\nimport { ngpInteractions } from './interactions/interactions';\n\nexport { NgpInteractionsConfig, provideInteractionsConfig } from './config/interactions-config';\nexport { NgpFocusVisible } from './focus-visible/focus-visible';\nexport { ngpFocusVisibleInteraction } from './focus-visible/focus-visible-interaction';\nexport { NgpFocus } from './focus/focus';\nexport { ngpFocusInteraction } from './focus/focus-interaction';\nexport { NgpHover } from './hover/hover';\nexport { ngpHoverInteraction } from './hover/hover-interaction';\nexport { ngpInteractions } from './interactions/interactions';\nexport { NgpMove, NgpMoveEvent } from './move/move';\nexport { NgpPress } from './press/press';\nexport { ngpPressInteraction } from './press/press-interaction';\n\n/**\n * @deprecated use `ngpInteractions` instead\n */\nexport { ngpInteractions as setupInteractions };\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}